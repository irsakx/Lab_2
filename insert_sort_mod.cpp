#include <iostream>  
using namespace std;  

int main() {  
  int arr[] = {5, 3, 1, 4, 2};          // Исходный массив  
  int n = sizeof(arr) / sizeof(arr[0]);  // Вычисление размера массива  
  int i = 1, j, key;                     // Инициализация переменных: i начинается с 1 (второй элемент)  

  // ===== Сортировка вставками (через goto) =====  
start_outer:  
  if (i >= n) goto end_outer;            // Если все элементы обработаны → выход  
  key = arr[i];                          // Сохраняем текущий элемент для вставки  
  j = i - 1;                             // Начинаем сравнение с предыдущего элемента  

start_inner:  
  if (j < 0) goto end_inner;             // Выход, если дошли до начала массива  
  if (arr[j] <= key) goto end_inner;     // Выход, если найден меньший/равный элемент  
  arr[j + 1] = arr[j];                   // Сдвигаем элемент вправо  
  j--;                                   // Переход к предыдущему элементу  
  goto start_inner;                      // Повтор внутреннего "цикла"  

end_inner:  
  arr[j + 1] = key;                      // Вставка key на правильную позицию  
  i++;                                   // Переход к следующему элементу  
  goto start_outer;                      // Повтор внешнего "цикла"  

  // ===== Вывод отсортированного массива =====  
end_outer:  
  cout << "После сортировки: ";  
  int k = 0;                             // Счётчик для вывода  

print_loop:  
  if (k >= n) goto end_print;            // Если все элементы выведены → выход  
  cout << arr[k] << " ";                 // Вывод текущего элемента  
  k++;                                   // Инкремент счётчика  
  goto print_loop;                       // Повтор цикла вывода  

end_print:  
  return 0;                              // Завершение программы  
}  